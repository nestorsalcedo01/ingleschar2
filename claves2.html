<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Essay Writing Workshop - Chapter 2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .writing-section {
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            margin-bottom: 3rem;
            padding: 2rem;
        }
        .essay-sentence {
            cursor: pointer;
            transition: background-color 0.2s;
            padding: 2px 4px;
            border-radius: 4px;
        }
        .essay-sentence:hover {
            background-color: #e0f2fe; /* sky-100 */
        }
        .feedback-popup {
            display: none;
            position: absolute;
            background-color: #1e293b; /* slate-800 */
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.875rem;
            z-index: 10;
            pointer-events: none;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-5xl font-extrabold text-slate-900">Interactive Essay Writing Workshop</h1>
            <p class="text-xl text-slate-600 mt-2">Chapter 2: Learn to Structure and Justify Your Opinions</p>
        </header>

        <!-- Section 1: Interactive Essay Analysis -->
        <section class="writing-section">
            <h2 class="text-3xl font-bold text-sky-700 mb-4">1. Breaking Down an Opinion Essay</h2>
            <p class="mb-6 text-slate-600">Read the sample essay below. Hover over the sentences to identify their function (expressing an opinion, justifying with an example, or concluding).</p>
            <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 leading-relaxed relative">
                <p id="essay-text">
                    <span class="essay-sentence" data-type="context">Some people think teenagers are bad at teaching because they are too young and inexperienced.</span> 
                    <span class="essay-sentence" data-type="opinion">While it's true they are not old enough to work at a school, I would argue that teenagers can teach people many different things.</span><br><br>
                    <span class="essay-sentence" data-type="main_point">One area where teenagers often have an advantage over older people is new technology.</span> 
                    <span class="essay-sentence" data-type="justification">For example, my parents often ask me for help and advice about smartphones, computers, tablets and apps.</span> 
                    <span class="essay-sentence" data-type="opinion">Whereas adults sometimes seem to struggle with new gadgets, it seems to me that teenagers understand them almost instantly - and can teach others how to use them.</span><br><br>
                    <span class="essay-sentence" data-type="opinion">In my view, another area where teenagers lead the way is in environmental awareness.</span> 
                    <span class="essay-sentence" data-type="justification">My friends, for example, understand green issues more than their parents, and are often good at persuading them to change their ways, for instance with recycling.</span> 
                    <span class="essay-sentence" data-type="justification">Similarly, teenagers often have specific interests and skills which they can teach.</span><br><br>
                    <span class="essay-sentence" data-type="conclusion">In conclusion, I disagree with the idea that teenagers make bad teachers.</span> 
                    <span class="essay-sentence" data-type="conclusion">In my experience, I have seen them successfully teach and influence many people.</span>
                </p>
                <div id="feedback-popup" class="feedback-popup"></div>
            </div>
        </section>

        <!-- Section 2: Guided Writing Assistant -->
        <section class="writing-section">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4">2. Writing Assistant: Your Turn!</h2>
            <p class="mb-2 text-slate-600">Now, write your own essay in response to the following question:</p>
            <p class="mb-6 bg-emerald-50 text-emerald-800 font-semibold p-4 rounded-lg border border-emerald-200">"'Schools don't prepare teenagers well enough to be adults in the modern world.' Do you agree?"</p>
            
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg">Step 1: Introduction</h3>
                    <p class="text-sm text-slate-500 mb-2">Introduce the topic and state your opinion clearly.</p>
                    <textarea id="intro-paragraph" class="w-full h-24 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-300" placeholder="Useful phrases: I would argue that..., It seems to me that..., In my view..."></textarea>
                </div>
                <div>
                    <h3 class="font-bold text-lg">Step 2: Body Paragraph 1 - Everyday Tasks</h3>
                    <p class="text-sm text-slate-500 mb-2">Write about how schools prepare (or don't prepare) you for tasks like cooking, car maintenance, etc. Justify with examples.</p>
                    <textarea id="body-paragraph-1" class="w-full h-32 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-300" placeholder="Useful phrases: For example..., For instance..., Because..."></textarea>
                </div>
                 <div>
                    <h3 class="font-bold text-lg">Step 3: Body Paragraph 2 - Getting a Job</h3>
                    <p class="text-sm text-slate-500 mb-2">Write about the preparation for the working world. What is taught? What is missing?</p>
                    <textarea id="body-paragraph-2" class="w-full h-32 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-300" placeholder="Useful phrases: This is why..., Since..., As..."></textarea>
                </div>
                 <div>
                    <h3 class="font-bold text-lg">Step 4: Body Paragraph 3 - Your Own Idea</h3>
                    <p class="text-sm text-slate-500 mb-2">Add another important area (e.g., financial literacy, mental health, etc.) and develop it.</p>
                    <textarea id="body-paragraph-3" class="w-full h-32 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-300" placeholder="Add your own idea and justify it."></textarea>
                </div>
                 <div>
                    <h3 class="font-bold text-lg">Step 5: Conclusion</h3>
                    <p class="text-sm text-slate-500 mb-2">Summarize your points and restate your opinion in different words.</p>
                    <textarea id="conclusion-paragraph" class="w-full h-24 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-300" placeholder="Useful phrases: In conclusion..., To sum up..., To conclude..."></textarea>
                </div>
            </div>
        </section>

        <!-- Section 3: Final Self-Assessment -->
        <section class="writing-section">
            <h2 class="text-3xl font-bold text-indigo-700 mb-4">3. Final Self-Assessment</h2>
             <p class="mb-6 text-slate-600">Before you finish, review your work with this interactive checklist.</p>
             <div class="space-y-3">
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've written at least four paragraphs.</label>
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've expressed and justified my opinions.</label>
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've discussed the ideas of everyday tasks and getting a job.</label>
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've included and discussed my own idea.</label>
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've concluded my essay appropriately.</label>
                 <label class="flex items-center p-3 border rounded-lg hover:bg-slate-50 cursor-pointer"><input type="checkbox" class="h-5 w-5 mr-3 text-indigo-600 focus:ring-indigo-500"> I've checked my spelling and grammar.</label>
             </div>
             <div class="mt-8">
                 <button id="compile-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg w-full">View My Full Essay</button>
                 <div id="final-essay-container" class="hidden mt-6 bg-slate-50 p-6 rounded-lg border border-slate-200 whitespace-pre-wrap"></div>
             </div>
        </section>

    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const essayText = document.getElementById('essay-text');
        const feedbackPopup = document.getElementById('feedback-popup');

        essayText.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('essay-sentence')) {
                const sentence = e.target;
                const type = sentence.dataset.type;
                let feedbackText = '';

                switch(type) {
                    case 'contexto':
                        feedbackText = 'General Context';
                        break;
                    case 'opinion':
                        feedbackText = 'Expressing Opinion';
                        break;
                    case 'punto_principal':
                        feedbackText = 'Main Point of Paragraph';
                        break;
                    case 'justificacion':
                        feedbackText = 'Justification with Example';
                        break;
                    case 'conclusion':
                        feedbackText = 'Conclusion';
                        break;
                }

                feedbackPopup.textContent = feedbackText;
                feedbackPopup.style.display = 'block';
                
                const rect = sentence.getBoundingClientRect();
                feedbackPopup.style.left = `${window.scrollX + rect.left}px`;
                feedbackPopup.style.top = `${window.scrollY + rect.top - feedbackPopup.offsetHeight - 5}px`;
            }
        });

        essayText.addEventListener('mouseout', (e) => {
            if (e.target.classList.contains('essay-sentence')) {
                feedbackPopup.style.display = 'none';
            }
        });

        const compileBtn = document.getElementById('compile-btn');
        const finalEssayContainer = document.getElementById('final-essay-container');
        
        compileBtn.addEventListener('click', () => {
            const intro = document.getElementById('intro-paragraph').value;
            const body1 = document.getElementById('body-paragraph-1').value;
            const body2 = document.getElementById('body-paragraph-2').value;
            const body3 = document.getElementById('body-paragraph-3').value;
            const conclusion = document.getElementById('conclusion-paragraph').value;

            const fullEssay = [intro, body1, body2, body3, conclusion].filter(p => p.trim() !== '').join('\n\n');

            finalEssayContainer.textContent = fullEssay || "You haven't written anything in the paragraphs yet.";
            finalEssayContainer.classList.remove('hidden');
        });
    });
    </script>
</body>
</html>
